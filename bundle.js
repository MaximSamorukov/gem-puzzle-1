!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);document.body.innerHTML='\n  <app-gem-puzzle class="main-container">\n    <p style="font-size: 20px; color: blue;">Не успел доделать, вчера весь день сидел, если подождете до завтра с проверкой был бы благодарен! Реализован почти весь функционал, переключается размер поля и передвигаются фишки. Спасибо!</p>\n    <div class="info-block">\n      <p class="info-block__timer-wrapper">\n        <span class="info-block__title-timer">Прошло времени</span>\n        <span class="info-block__show-timer" id="show-timer">00:00</span>\n      </p>\n      <p class="info-block__steps-wrapper">\n        <span class="info-block__title-steps">Количество ходов:</span>\n        <span class="info-block__show-steps">0</span>\n      </p>\n    </div>\n    <div class="control" id="control">\n      <input type="button" name="start" value="Перемешать и начать">\n      <input type="button" name="pause" value="Пауза">\n      <input type="button" name="save" value="Сохранить">\n      <input type="button" name="score" value="Результаты">\n    </div>\n    <div class="hover-wrap">\n      <div class="hover-start" id="hover-start">\n        <p class="hover-start__wrap">\n          <span class="hover-start__text">Выбери размер игрового поля и нажми кнопку "Перемешать и начать"</span>\n        </p>\n      </div>\n      <div class="hover-pause" id="hover-pause">\n        <p class="hover-pause__wrap">\n          <span class="hover-pause__text">П А У З А</span>\n        </p>\n      </div>\n      <div class="main-game start" id="main-game">\n        <input type="button" class="draggable" value="1">\n        <input type="button" class="draggable" value="2">\n        <input type="button" class="draggable" value="3">\n        <input type="button" class="draggable" value="4">\n        <input type="button" class="draggable" value="5">\n        <input type="button" class="draggable" value="6">\n        <input type="button" class="draggable" value="7">\n        <input type="button" class="draggable" value="8">\n        <input type="button" class="draggable" value="9">\n        <input type="button" class="draggable" value="10">\n        <input type="button" class="draggable" value="11">\n        <input type="button" class="draggable" value="12">\n        <input type="button" class="draggable" value="13">\n        <input type="button" class="draggable" value="14">\n        <input type="button" class="draggable" value="15">\n        <input type="button" class="empty" value="">\n      </div>\n    </div>\n    <div class="game-mode" id="game-mode">\n      <div class="game-mode__info-mode">\n        <span>Изменить размер игрового поля:</span>\n      </div>\n      <div class="game-mode__change-mode">\n        <input type="button" value="3 x 3">\n        <input type="button" value="4 x 4">\n        <input type="button" value="5 x 5">\n        <input type="button" value="6 x 6">\n        <input type="button" value="7 x 7">\n        <input type="button" value="8 x 8">\n      </div>\n    </div>\n  </app-gem-puzzle>\n  ';const a=document.getElementById("main-game"),s=/iPad|iPhone|mobile|android|webos|ios|iPod/i.test(navigator.userAgent);let l=!1;const o=e=>""===e.value?1:Math.random()-.5,u=[...a.getElementsByTagName("input")].sort(o);a.append(...u);const i=e=>{if(setTimeout(()=>{l=!1},150),l)return;const t=e.target;if(!t.classList.contains("draggable"))return;t.ondragstart=()=>!1,s&&(document.body.style.overflow="hidden"),e.preventDefault();const n=[...a.getElementsByTagName("input")],o=n.map(e=>e.value),u=o.findIndex(e=>t.value===e),i=o.length,r=Math.sqrt(i),c=t.offsetWidth,p=t.offsetHeight,d=(n,a,l,o,u)=>{const i=performance.now(),r=()=>{t.style.transition="all 0s",t.style.top="0",t.style.left="0"};r();const c=t.getBoundingClientRect().left,p=t.getBoundingClientRect().top,d=(e.clientX||e.touches[0].clientX)-c,v=(e.clientY||e.touches[0].clientY)-p,m=(e,n)=>{t.style.transition="",t.style.top=`${e}px`,t.style.left=`${n}px`,setTimeout(r,100)};t.style.position="relative",t.style.zIndex="0";const y=(e,s)=>{let u=n?e-c-d:0,i=a?s-p-v:0;n&&(u=u<=l?l:u,u=u>=o?o:u),a&&(i=i<=l?l:i,i=i>=o?o:i),t.style.left=`${u}px`,t.style.top=`${i}px`};let g=s?e.touches[0].clientX:e.clientX,b=s?e.touches[0].clientY:e.clientY;y(g,b);const f=e=>{g=s?e.touches[0].clientX:e.clientX,b=s?e.touches[0].clientY:e.clientY,y(g,b)},h=()=>{u(performance.now()-i,m),s?(document.removeEventListener("touchmove",f),document.removeEventListener("touchend",h),document.body.style.overflow=""):(document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h))};s?(document.addEventListener("touchmove",f),document.addEventListener("touchend",h)):(document.addEventListener("mousemove",f),document.addEventListener("mouseup",h))},v=e=>{setTimeout(()=>{[n[u],n[u-e]]=[n[u-e],n[u]],a.append(...n),l=!1,t.removeAttribute("style")},100)};!n[u-1]||n[u-1].value?!n[u-r]||n[u-r].value?!n[u+r]||n[u+r].value?n[u+1]&&!n[u+1].value&&(()=>{l=!0;d(!0,!1,0,c,(e,n)=>{if(e<150)n(0,c),v(-1);else{Math.abs(parseInt(t.style.left,10))<c/2?n(0,0):(n(0,c),v(-1))}})})():(()=>{l=!0;d(!1,!0,0,p,(e,n)=>{if(e<150)n(p,0),v(-r);else{Math.abs(parseInt(t.style.top,10))<p/2?n(0,0):(n(p,0),v(-r))}})})():(()=>{l=!0;d(!1,!0,-p,0,(e,n)=>{if(e<150)n(-p,0),v(r);else{Math.abs(parseInt(t.style.top,10))<p/2?n(0,0):(n(-p,0),v(r))}})})():(()=>{l=!0;d(!0,!1,-c,0,(e,n)=>{if(e<150)n(0,-c),v(1);else{Math.abs(parseInt(t.style.left,10))<c/2?n(0,0):(n(0,-c),v(1))}})})()},r=document.getElementById("game-mode"),c=document.getElementById("control"),p=document.getElementById("hover-pause"),d=document.getElementById("show-timer");d.innerHTML="00:00";let v,m=1,y=0,g=null;const b=document.getElementById("hover-start"),f=(e,t)=>(y=t||y,m=e||m,setInterval(()=>{60===m&&(m=0,y++),v=m++,d.innerHTML=`${y<10?"0":""}${y}:${v<10?"0":""}${v} `},1e3)),h=()=>{g&&(clearInterval(g),g=null),d.innerHTML="00:00",g=f("1","0")},_=(e,t)=>{const n=[];for(let t=e;t--;)n.push(`<input type="button" class="draggable" value="${t+1}">`);const s=n.sort(o);s.push('<input type="button" class="empty" value="">'),a.innerHTML=s.join(""),a.className=`main-game ${t}`,b.style.display&&h()};r.addEventListener("click",e=>{if(p.style.display)return;const t=e.target;if("INPUT"===t.tagName)switch(t.value){case"3 x 3":_(8,"three");break;case"4 x 4":_(15,"");break;case"5 x 5":_(24,"five");break;case"6 x 6":_(35,"six");break;case"7 x 7":_(48,"seven");break;case"8 x 8":_(63,"eight")}}),c.addEventListener("click",e=>{const t=e.target;if("INPUT"!==t.tagName)return;switch(t.name){case"start":p.style.display||(b.style.display="none",_(15,""),h());break;case"pause":(()=>{const e=d.innerHTML;if(b.style.display&&!p.style.display){const[t,n]=e.split(":");localStorage.setItem("minutes",parseInt(t,10)),localStorage.setItem("seconds",parseInt(n,10)),clearInterval(g),g=null,p.style.display="flex"}else{p.style.display="";const e=+localStorage.getItem("seconds")+1,t=localStorage.getItem("minutes");g=f(e,t)}})()}}),s?a.addEventListener("touchstart",i):a.addEventListener("mousedown",i)}]);